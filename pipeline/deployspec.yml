#
# deployspec.yml
#

version: 0.2

env:
  variables:
    deploy_bucket: libra-lambda-deployable

phases:
  install:
    runtime-versions:
      golang: 1.x
#    commands:

#  pre_build:
#    commands:

  build:
    commands:
      #
      # libra-doi function
      - aws lambda update-function-code --function-name uva-libra-doi-staging --s3-bucket ${deploy_bucket} --s3-key latest/libra-doi/deployment.zip
      #
      # libra-event-audit function
      - aws lambda update-function-code --function-name uva-libra-event-audit-staging --s3-bucket ${deploy_bucket} --s3-key latest/libra-event-audit/deployment.zip
      #
      # libra-index function
      - aws lambda update-function-code --function-name uva-libra-index-staging --s3-bucket ${deploy_bucket} --s3-key latest/libra-index/deployment.zip
      #
      # libra-ingest function
      - aws lambda update-function-code --function-name uva-libra-ingest-staging --s3-bucket ${deploy_bucket} --s3-key latest/libra-ingest/deployment.zip
      #
      # libra-mailer function
      - aws lambda update-function-code --function-name uva-libra-mailer-staging --s3-bucket ${deploy_bucket} --s3-key latest/libra-mailer/deployment.zip
      #
      # libra-schedule function
      - aws lambda update-function-code --function-name uva-libra-schedule-staging --s3-bucket ${deploy_bucket} --s3-key latest/libra-schedule/deployment.zip

#  post_build:
#    commands:

#
# end of file
#
